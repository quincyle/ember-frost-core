sudo: required
dist: trusty
language: node_js
node_js:
- 8.6.0
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    - google-chrome
    packages:
    - google-chrome-stable
    - g++-4.8
  firefox: latest
cache:
  directories:
  - node_modules
env:
  matrix:
  - EMBER_TRY_SCENARIO=ember-2-8
  - EMBER_TRY_SCENARIO=ember-default
  global:
  - CXX=g++-4.8
  - secure: am37NChGdcjo/AXKwsJLs0PvshDIxMTb5JYWrBEFnDbF8ZyOPewwD1qbec882RMCXLiwJQAO/TRAGaytEDCibuUNpFXZxi+R6e698SyoydFoSU8SUyLvvwYkJN86S0UA3BTbWYDWY9gCetDWPtqCp8MFUuvz9RukeCDhV9Vve5IsY+LJeE6fpm6vu3Qzky18cVx2zhRSC5Hl0e51oeZJfuoyk8oG56wKr6a4XfhUeodtJisNND0sNKcSvzaENHUSVUqDEiSSWZ9g+5mByR+GR1vpPyRrWorrXp2Ksu94mlGhbqqWzTRY6Fp0EY5NsGcknxkvJJHaDk8dBx1I/SqVQkUK6tMV9WQrbLKimrMTUUKZLB2u5/SHVCCsQWQtIsDC9+dex9+h95DC8UotG8H3Lxotoo3K3qgtIkzSaLqYJyNa3N28coIJGnL1oCJwJO6ab0mcrE6YCqrppVaXf9JsAgW+p89qUZyhiNSRCCajoubcJclg4LHxWNTTOMsbzUg5b4dFdsGRYnVNIOGi/83/oCkDcJVAyj+cK1DF7dM7PJgaCElvwuOVILUbxU20N+ED/XDa4GfpHIXYgTmENLTX8QUcAptEIHpadUQYpAnQ0G7ze4ZdYCYBWfrY4pANBVYPS0q4agEbvujndY3VOXwhyRBavX+AxiWBAscRagFwJkc=
matrix:
  fast_finish: true
before_install:
- npm config set spin false
- npm install -g coveralls pr-bumper@^3.7.0 ciena-devops@^1.0.0
- "$(npm root -g)/pr-bumper/.travis/maybe-check-scope.sh"
install:
- "$(npm root -g)/pr-bumper/.travis/maybe-install.sh"
- bower install
before_script:
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- sleep 3
script:
- "$(npm root -g)/pr-bumper/.travis/maybe-test.sh"
- ".travis/maybe-check-coverage.sh"
- ".travis/maybe-bump-version.sh"
after_success:
- ".travis/maybe-publish-coverage.sh"
- ".travis/maybe-publish-gh-pages.sh"
deploy:
  provider: npm
  email: npm.ciena@gmail.com
  skip_cleanup: true
  api_key:
    secure: I+LOZTveSb6j01+qOKBU9bDX49666fIgJg2yDqVEqgGlhEkZYJ/ZVZgwCIt1MSo/ESIGwfIIgxsUgqu7zrYVEIhmjKNR57j+vgYsyTGRmRZfnWrZ9dIc60APTKCACnj3poxp10Z5NbHDCs6L2D2Z3vITBu/nCM8RUxl2j3L2Y7/TGmIcMj2GOT4M7TXEV7H/Uu5dixtnCxEJ74eOJhcU3FpOshJCp2H2dFg4Lkfff2d2GShek+BIVe2DVnDzcvA7kicFSsVe/+FbuBBAgWb7ljf9YyyA0tgf/3/qpM3/4Ec3WPJvbI3yPNfAFQj/ttDFVLX5EUUHNUpbzBM9gCz+blOLpeUax7z4T8YNPU17X7TqcqzQmbRSAw16vPEDiTzC0bZWyH8rw0MUCvindQ3TyU3B5f70zVyeijZMwrNWAUkudjXM1eJghHPrxFPCETtWLYt13O3mnY3TjmR21QiR9rHqaGBaqgllsdPekfSnkP3aSXXVldFuIUFpD08FgDsYev7R77bmm4w1DiSk8ZnxDAiXG1qeWgoGIUvhIxy80V9gwrBJSPZwKseuEb9S64KZYH3XnC3hLvxjlhg+RiSGAcpD96ovZ9NAoSyJ9QEiYWLMphxst4YCx+tutWcp/FWlXhteunW81fsJCE32o6GHNQTgibz9fJgL857bkda3pvM=
  on:
    all_branches: true
    condition: "$EMBER_TRY_SCENARIO = 'ember-default'"
    node: 8.6.0
    tags: true
after_deploy:
- "$(npm root -g)/ciena-devops/scripts/slack/incoming-webhooks/send-message.sh"
notifications:
  slack:
    secure: NGi2iQT9BivUq08QFAd7cV3sWLntIYgrPU7rk+cZh6zEFTT0SOBnmYtPyftMYxOG2nMsnEvGOsQf0yyFsyIA91QYnEZSRyRYKSI1O5zuKdo+ntIk5m+QhrKuDMld+4MGimV5dBHvf6wMdQmJU6G9Of5c0ZN6bidNFdcBn64CEAXaehqROsz0gMErBI3bemHA0Xo0DROU7u8TwmXbJEBliy8V29yTkd9fOhpiCWQx3wSEU9fPqsVEu+E6ms6tkFdAoDmdyw+E7QUyZro7ZIk97zJhuaCnn7+lBhVeh+9bwdjju95YaecyMY3uKZVWT+qM0A4rIWQO6sOIBshzPswA3gFtfgs0cAR4zrIqPI0LOcmfnSJQgf19t6sIw+5PPRRp5D9ESh+nVV6+t8hF6G7xXvmSfQ7OGxIQPR6KBnvU2SqOdn98mCWMvpLRdVAP4z9nPQaxCWc9zyg/eyJ28zKacgH/Tatyc3IfSkome9HXTOewno+FCgq2w8YNpzJNUsoOIgtwRt+z8YwpUNapAeiH6Gia0NH5pCkIQxiniOwM4Mo13whQwUQVB8eRlJ1FqbNWIg+U/dTnNoDFDvhdKzxIhd1j2L8/+8iy1G7BWHcAb6DEaSp/ONX+cLnpE2t3B3Xyy7p5aPKVaUr8gE2r68oZ0P4ZDcYNKD1HQ5PiTGzDdM4=
